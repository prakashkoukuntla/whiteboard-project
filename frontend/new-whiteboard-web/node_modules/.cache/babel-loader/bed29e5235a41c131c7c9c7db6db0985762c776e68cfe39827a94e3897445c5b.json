{"ast":null,"code":"// src/pages/LoginPage.js\nimport React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{TextField,Button,Container,Typography}from\"@mui/material\";import axios from\"axios\";import{useWhiteboard}from\"../context/WhiteboardContext\";// Import context\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){const[username,setUsername]=useState(\"\");const{refreshWhiteboards}=useWhiteboard();// Access the setWhiteboards function from context\nconst navigate=useNavigate();const handleLogin=async()=>{if(username.trim()===\"\"){alert(\"Please enter a username\");return;}try{const response=await axios.post(\"http://localhost:5001/login\",{name:username},{withCredentials:true});if(response.status===200){console.log(response.data.message);const whiteboards=response.data.whiteboards;await refreshWhiteboards(whiteboards);// Store whiteboards in context\nnavigate(\"/whiteboards\");}}catch(error){console.error(\"Login failed\",error);alert(\"Login failed, please try again.\");}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",style:{marginTop:\"100px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Login\"}),/*#__PURE__*/_jsx(TextField,{label:\"Username\",variant:\"outlined\",fullWidth:true,value:username,onChange:e=>setUsername(e.target.value),style:{marginBottom:\"20px\"}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleLogin,children:\"Login\"})]});}export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","TextField","Button","Container","Typography","axios","useWhiteboard","jsx","_jsx","jsxs","_jsxs","LoginPage","username","setUsername","refreshWhiteboards","navigate","handleLogin","trim","alert","response","post","name","withCredentials","status","console","log","data","message","whiteboards","error","maxWidth","style","marginTop","textAlign","children","variant","gutterBottom","label","fullWidth","value","onChange","e","target","marginBottom","color","onClick"],"sources":["/Users/prakashkoukuntla/Whiteboard-Project/frontend/new-whiteboard-web/src/pages/LoginPage.js"],"sourcesContent":["// src/pages/LoginPage.js\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Container, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport { useWhiteboard } from \"../context/WhiteboardContext\"; // Import context\n\nfunction LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const { refreshWhiteboards } = useWhiteboard(); // Access the setWhiteboards function from context\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    if (username.trim() === \"\") {\n      alert(\"Please enter a username\");\n      return;\n    }\n\n    try {\n      const response = await axios.post(\n        \"http://localhost:5001/login\",\n        {\n          name: username,\n        },\n        { withCredentials: true }\n      );\n\n      if (response.status === 200) {\n        console.log(response.data.message);\n        const whiteboards = response.data.whiteboards;\n        await refreshWhiteboards(whiteboards); // Store whiteboards in context\n\n        navigate(\"/whiteboards\");\n      }\n    } catch (error) {\n      console.error(\"Login failed\", error);\n      alert(\"Login failed, please try again.\");\n    }\n  };\n\n  return (\n    <Container\n      maxWidth=\"sm\"\n      style={{ marginTop: \"100px\", textAlign: \"center\" }}\n    >\n      <Typography variant=\"h4\" gutterBottom>\n        Login\n      </Typography>\n      <TextField\n        label=\"Username\"\n        variant=\"outlined\"\n        fullWidth\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n        style={{ marginBottom: \"20px\" }}\n      />\n      <Button variant=\"contained\" color=\"primary\" onClick={handleLogin}>\n        Login\n      </Button>\n    </Container>\n  );\n}\n\nexport default LoginPage;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,CAAEC,MAAM,CAAEC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CACxE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,8BAA8B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9D,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAEe,kBAAmB,CAAC,CAAGR,aAAa,CAAC,CAAC,CAAE;AAChD,KAAM,CAAAS,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAgB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAIJ,QAAQ,CAACK,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC1BC,KAAK,CAAC,yBAAyB,CAAC,CAChC,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAC/B,6BAA6B,CAC7B,CACEC,IAAI,CAAET,QACR,CAAC,CACD,CAAEU,eAAe,CAAE,IAAK,CAC1B,CAAC,CAED,GAAIH,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CAC3BC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACO,IAAI,CAACC,OAAO,CAAC,CAClC,KAAM,CAAAC,WAAW,CAAGT,QAAQ,CAACO,IAAI,CAACE,WAAW,CAC7C,KAAM,CAAAd,kBAAkB,CAACc,WAAW,CAAC,CAAE;AAEvCb,QAAQ,CAAC,cAAc,CAAC,CAC1B,CACF,CAAE,MAAOc,KAAK,CAAE,CACdL,OAAO,CAACK,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpCX,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CACF,CAAC,CAED,mBACER,KAAA,CAACP,SAAS,EACR2B,QAAQ,CAAC,IAAI,CACbC,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eAEnD1B,IAAA,CAACJ,UAAU,EAAC+B,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,OAEtC,CAAY,CAAC,cACb1B,IAAA,CAACP,SAAS,EACRoC,KAAK,CAAC,UAAU,CAChBF,OAAO,CAAC,UAAU,CAClBG,SAAS,MACTC,KAAK,CAAE3B,QAAS,CAChB4B,QAAQ,CAAGC,CAAC,EAAK5B,WAAW,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CR,KAAK,CAAE,CAAEY,YAAY,CAAE,MAAO,CAAE,CACjC,CAAC,cACFnC,IAAA,CAACN,MAAM,EAACiC,OAAO,CAAC,WAAW,CAACS,KAAK,CAAC,SAAS,CAACC,OAAO,CAAE7B,WAAY,CAAAkB,QAAA,CAAC,OAElE,CAAQ,CAAC,EACA,CAAC,CAEhB,CAEA,cAAe,CAAAvB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}